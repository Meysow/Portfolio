@use "../../../../../styles/app.scss";

@function randomNum($min, $max) {
  $rand: random();
  $randomNum: $min + floor($rand * (($max - $min) + 1));

  @return $randomNum;
  /* e.g. font-size: #{randomNum(5, 10)}px; */
}

.illustration {
  --opacity: 0.99;
  opacity: var(--opacity);
  transition: 0.9s;
  max-height: 53vh;
  display: flex;
  justify-content: center;
  position: relative;

  .cover {
    max-height: 100%;
    height: auto;
    width: 100%;
    transform: app.$image-slide-in;
    box-shadow: -1px 14px 31px 10px rgba(0, 0, 0, 0.62);
    border-radius: 0.6rem;
    transition: all 0.8s cubic-bezier(0.43, 0.18, 0.45, 1);
    filter: brightness(0.9);
    // opacity: 0.2;
  }

  @include app.smallScreen() {
    height: 56vh;
    .cover {
      height: 100%;
      width: auto;
    }
  }

  @include app.largeScreen() {
    height: 67vh;
    flex-basis: 37%;
    .cover {
      max-height: 100%;
      height: auto;
    }
  }

  // EFFECT STARTS NOW //
  .previewImage {
    width: 35%;
    transition: all 0.3s cubic-bezier(0.28, 0.05, 0.65, 0.97);
    position: absolute;
    bottom: 50%;
    left: 50%;
    transform: translate3d(-50%, 150%, 0);
    overflow: hidden;
    border-radius: 4px;
    box-shadow: 0 0 0 0 rgba(0, 0, 0, 0.3);
    z-index: -1;

    img {
      width: 140%;
    }
  }

  &:hover {
    .previews {
      .previewImage {
        transition: all 0.25s cubic-bezier(0.28, 0.05, 0.65, 0.97);
        box-shadow: -8px 5px 30px 0 rgba(0, 0, 0, 0.2);

        &:nth-child(1) {
          transform: rotate(#{randomNum(-10, 10)}deg)
            translate3d(-225%, -60%, 0);
          transition-delay: 0.05s;
        }
        &:nth-child(2) {
          transform: rotate(#{randomNum(-10, 10)}deg) translate3d(125%, -50%, 0);
          transition-delay: 0.1s;
        }
        &:nth-child(3) {
          transform: rotate(#{randomNum(-10, 10)}deg)
            translate3d(-225%, 120%, 0);
          transition-delay: 0.15s;
        }
        &:nth-child(4) {
          transform: rotate(#{randomNum(-10, 10)}deg) translate3d(125%, 130%, 0);
          transition-delay: 0.25s;
        }
      }
    }
  }
}
.active {
  .illustration {
    .cover {
      transform: scale(1);
      transition: all 0.3s ease-in-out;
      &:hover {
        transform: scale(0.9);
      }
    }
  }
}
